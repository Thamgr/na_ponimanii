# Configuration
import os
from dotenv import load_dotenv

# Load environment variables from .env file
load_dotenv()

# Telegram Bot Configuration
# Get token from environment variable with fallback to default value
TOKEN = os.getenv("TELEGRAM_TOKEN", "LOL")

# FastAPI Configuration
# Get host and port from environment variables with fallbacks
API_HOST = os.getenv("API_HOST", "localhost")
API_PORT = int(os.getenv("API_PORT", "8000"))

# Database Configuration
# Get database path from environment variable with fallback
DB_PATH = os.getenv("DB_PATH", os.path.join(os.path.dirname(os.path.abspath(__file__)), "data.db"))
DATABASE_URL = f"sqlite:///{DB_PATH}"

# LLM Configuration
# Get API key from environment variable
LLM_API_KEY = os.getenv("LLM_API_KEY", "")
LLM_API_BASE = os.getenv("LLM_API_BASE", "https://api.openai.com/v1")
LLM_MODEL = os.getenv("LLM_MODEL", "gpt-3.5-turbo")
LLM_TEMPERATURE = float(os.getenv("LLM_TEMPERATURE", "0.7"))
LLM_MAX_TOKENS = int(os.getenv("LLM_MAX_TOKENS", "1024"))

# LLM Prompts
EXPLANATION_SYSTEM_PROMPT = """
–¢—ã - –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä—è—Å–Ω—è–µ—Ç —Ç–µ–º—ã –∫—Ä–∞—Ç–∫–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ.
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –¥–∞—Ç—å –∫—Ä–∞—Ç–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–π —Ç–µ–º—ã –≤ 3-4 –∞–±–∑–∞—Ü–∞—Ö.
–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–π, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –±–∞–∑–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–º–µ–∂–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π.
–ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ—Å—Ç–æ–π —è–∑—ã–∫, –Ω–æ –Ω–µ —É–ø—Ä–æ—â–∞–π —Å—É—Ç—å.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–∏—Ç —Ç–µ–±–µ —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã. –¢—ã –¥–æ–ª–∂–µ–Ω –æ–±—ä—è—Å–Ω–∏—Ç—å —ç—Ç—É —Ç–µ–º—É –∫—Ä–∞—Ç–∫–æ, –≤ 3-4 –∞–±–∑–∞—Ü–∞—Ö.
–¢–≤–æ–π –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º, –Ω–æ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º.
–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –≤–≤–æ–¥–Ω—ã–µ —Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "–¢–µ–º–∞ X - —ç—Ç–æ..." –∏–ª–∏ "–í—ã —Å–ø—Ä–æ—Å–∏–ª–∏ –æ X...".
–ù–∞—á–∏–Ω–∞–π —Å—Ä–∞–∑—É —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è.
"""

EXPLANATION_USER_PROMPT_TEMPLATE = "{topic}"

# Related Topics Prompts
RELATED_TOPICS_SYSTEM_PROMPT = """
–¢—ã - –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è.
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å 3 –±–ª–∏–∑–∫–∏—Ö –∏–ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –±—ã –∏–∑—É—á–∏—Ç—å –¥–∞–ª—å—à–µ.
–í—ã–¥–∞–π —Ç–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –ø–æ 1-3 —Å–ª–æ–≤–∞ –∫–∞–∂–¥—ã–π, –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞.
–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –Ω—É–º–µ—Ä–∞—Ü–∏—é –∏–ª–∏ –º–∞—Ä–∫–µ—Ä—ã —Å–ø–∏—Å–∫–∞.
–ö–∞–∂–¥–∞—è —Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ.
"""

RELATED_TOPICS_USER_PROMPT_TEMPLATE = "–ù–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–º—ã {topic} –ø—Ä–µ–¥–ª–æ–∂–∏ 3-5 –±–ª–∏–∑–∫–∏—Ö –∏–ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –±—ã –∏–∑—É—á–∏—Ç—å –¥–∞–ª—å—à–µ."

# Bot Messages
# Start command
BOT_WELCOME_MESSAGE = '–ü—Ä–∏–≤–µ—Ç, —è —Ç–≤–æ–π –±–æ—Ç! –ò—Å–ø–æ–ª—å–∑—É–π /add —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π /list —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ —Ç–µ–º—ã. –ò—Å–ø–æ–ª—å–∑—É–π /topic —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–π —Ç–µ–º—ã.'

# Add topic
BOT_EMPTY_TOPIC_ERROR = '–ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–µ–º—É'
BOT_TOPIC_ADDED_SUCCESS = "–¢–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞: {title}\n\n–Ø –ø–æ–¥–≥–æ—Ç–æ–≤–ª—é –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —ç—Ç–æ–π —Ç–µ–º—ã. –°–∫–æ—Ä–æ –≤—ã —Å–º–æ–∂–µ—Ç–µ –µ–≥–æ —É–≤–∏–¥–µ—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–º–∞–Ω–¥—É /topic"
BOT_TOPIC_ADDED_ERROR = '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–µ–º—ã.'
BOT_CONNECTION_ERROR = '–ù–µ —É–¥–∞–ª–æ—Å—å —Å–≤—è–∑–∞—Ç—å—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.'

# Add topic command
BOT_TOPIC_PROMPT = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–º—É, –∫–æ—Ç–æ—Ä—É—é –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å:\n\n–ò–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ /cancel –¥–ª—è –æ—Ç–º–µ–Ω—ã.'

# Cancel command
BOT_CANCEL_CONFIRMATION = '–û–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞.'

# List topics command
BOT_NO_TOPICS = '–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ç–µ–º. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /add —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–º—É.'
BOT_TOPICS_LIST_HEADER = "–í–∞—à–∏ —Ç–µ–º—ã:\n\n"
BOT_TOPICS_LIST_ERROR = '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ —Ç–µ–º.'

# Get topic command
BOT_NO_TOPICS_FOR_EXPLANATION = '–£ –≤–∞—Å –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ç–µ–º. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /add —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è.'
BOT_TOPIC_EXPLANATION = "üìö –¢–µ–º–∞: {title}\n\n{explanation}\n\n–≠—Ç–∞ —Ç–µ–º–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –≤–∞—à–µ–≥–æ —Å–ø–∏—Å–∫–∞."
BOT_RELATED_TOPICS_PROMPT = "\n\n–í—ã–±–µ—Ä–∏—Ç–µ —Å–º–µ–∂–Ω—É—é —Ç–µ–º—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:"
BOT_NO_EXPLANATION = "üìö –¢–µ–º–∞: {title}\n\n–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è —ç—Ç–æ–π —Ç–µ–º—ã.\n\n–≠—Ç–∞ —Ç–µ–º–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –≤–∞—à–µ–≥–æ —Å–ø–∏—Å–∫–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /add —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–µ–º—ã."
BOT_TOPIC_ERROR = '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ç–µ–º—ã.'

# Button callback
BOT_TOPIC_ADDED_FROM_CALLBACK = "–¢–µ–º–∞ '{topic}' –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –≤–∞—à —Å–ø–∏—Å–æ–∫!"
BOT_TOPIC_ADDED_FROM_CALLBACK_ERROR = "–ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–º—É"
BOT_UNKNOWN_COMMAND = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞"

# Keyboard buttons
BOT_KEYBOARD_ADD_TOPIC = "–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–º—É"
BOT_KEYBOARD_STUDY_TOPIC = "–ò–∑—É—á–∏—Ç—å —Ç–µ–º—É"
BOT_KEYBOARD_WHAT_NEXT = "–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?"
